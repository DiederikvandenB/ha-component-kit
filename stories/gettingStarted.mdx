import { Canvas, Source, ArgTypes, Meta } from '@storybook/blocks';
import { HassConnect } from '../src/components/HassConnect';

<Meta title="INTRODUCTION/Getting Started" />

# Overview
This package was built to make it easy to authenticate and use your home assistant devices in a custom build react dashboard.

Big ups to the devs over at [Home Assistant Web Socket](https://github.com/home-assistant/home-assistant-js-websocket) which is what this package wraps to provide ease of use
react functionality to build out your application/dashboard.

## Quick test
If you want to quickly see how this works, the [Playground](/story/introduction-testconnection--playground) will help you visualize what this package is capable of.

## Simple Installation Steps
Install dependencies required in your react project

```bash
  npm i home-assistant-js-websocket ha-component-kit react react-dom
```

Then simply wrap your root component (usally App.tsx) with the [HassConnect](/story/components-hassconnect--default) component.

```tsx
import React from 'react';
import { createRoot } from 'react-dom/client';
import { HassConnect } from 'ha-component-kit';
// TODO: replace this with your home assistant url
const HASS_URL = 'http://localhost:8123';
function App() {
  return <HassConnect hassUrl={HASS_URL}>
    <Root />
  </HassConnect>
};

const root = createRoot(document.getElementById('root'));

root.render(<App />);
```

When you run/build your server you should see a familiar home assistant login form, login with your normal credentials and you should see your components within the HassConnect component render, this means
we've authenticated successfully.

Now you can use all the other functionality such as [useApi()](/docs/hooks-useapi--docs)!


## From Scratch
This isn't a "how to learn react" kinda tutorial, however to get this up and running in it's simplest form, replace "dashboard" with your folder name / project name.

```bash
  npx create-react-app dashboard --template typescript
```

Once the above is complete, the terminal will show you steps on how to run it / use it.

```cd dashboard && npm i home-assistant-js-websocket ha-component-kit react react-dom```

Open src/App.tsx and replace this with the following:

**TIP:** Make sure you replace the HASS_URL with the url to your home assistant instance.


```ts
import React from 'react';
import logo from './logo.svg';
import { HassConnect } from 'ha-component-kit';
import './App.css';
// TODO: replace this with your home assistant url:
const HASS_URL = 'http://localhost:8123';

function App() {
  return (
    <HassConnect hassUrl={HASS_URL}>
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <p>
            Edit <code>src/App.tsx</code> and save to reload.
          </p>
          <a
            className="App-link"
            href="https://reactjs.org"
            target="_blank"
            rel="noopener noreferrer"
          >
            Learn React
          </a>
        </header>
      </div>
    </HassConnect>
  );
}

export default App;

```

Now we can run `npm start` in the terminal, once it launches if you've entered your homeassistant url correctly you should see a familiar home assistant login form, login with your normal credentials and you should see your components within the HassConnect component render, this means
we've authenticated successfully.

Now you can use all the other functionality such as [useApi()](/docs/hooks-useapi--docs)!